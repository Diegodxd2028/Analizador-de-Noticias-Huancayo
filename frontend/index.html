<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light" />
  <title>Analizador de Noticias – Huancayo</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Estilos extra opcionales -->
  <link rel="stylesheet" href="./styles.css" />

  <!-- Evitar cache agresivo en dev -->
  <meta http-equiv="Cache-Control" content="no-store" />
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-100 to-slate-200 text-slate-900 antialiased">
  <!-- Top bar -->
  <nav class="sticky top-0 z-30 backdrop-blur bg-white/70 border-b border-slate-200">
    <div class="mx-auto max-w-5xl px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <div class="h-8 w-8 rounded-2xl bg-blue-600/90 grid place-items-center text-white font-bold">NH</div>
        <span class="font-semibold tracking-tight">Analizador de Noticias – Huancayo</span>
      </div>
      <div class="text-xs text-slate-500 hidden sm:block">SBERT + TF-IDF • FastAPI</div>
    </div>
  </nav>

  <main class="mx-auto max-w-5xl px-4 py-8">
    <!-- Hero -->
    <header class="mb-8">
      <h1 class="text-3xl font-bold tracking-tight">Detector de Desinformación</h1>
      <p class="text-slate-600 mt-2 max-w-3xl">
        Pega el texto de una noticia o ingresa su URL. El sistema la clasifica como
        <span class="font-semibold">Fake</span> o <span class="font-semibold">Real</span>,
        muestra un puntaje de confianza y los términos más influyentes.
      </p>
    </header>

    <div class="grid lg:grid-cols-2 gap-6">
      <!-- Panel de entrada -->
      <section class="bg-white rounded-2xl shadow-lg ring-1 ring-slate-200 p-5">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-lg font-semibold">Analizar noticia</h2>
          <span class="text-xs text-slate-500">Mínimo 30 caracteres si no usas URL</span>
        </div>

        <label for="txt" class="block text-sm font-medium text-slate-700">Pega la noticia (texto)</label>
        <textarea id="txt"
          class="mt-1 w-full rounded-xl border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30 p-3"
          rows="7" placeholder="Pega aquí el contenido…"></textarea>

        <div class="my-4 flex items-center gap-2 text-sm text-slate-500 select-none">
          <div class="h-px w-full bg-slate-200"></div>
          <span>o</span>
          <div class="h-px w-full bg-slate-200"></div>
        </div>

        <label for="url" class="block text-sm font-medium text-slate-700">o ingresa una URL</label>
        <input id="url" type="url" inputmode="url"
          class="mt-1 w-full rounded-xl border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30 p-3"
          placeholder="https://…"/>

        <div class="mt-5 flex items-center gap-3">
          <button id="btn"
            class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500/50 active:scale-[0.99] transition">
            <span class="btn-spinner hidden" aria-hidden="true"></span>
            <span>Analizar</span>
          </button>

          <button type="button" id="btn-clear"
            class="px-3 py-2 rounded-xl border border-slate-200 text-slate-600 hover:bg-slate-50">
            Limpiar
          </button>
        </div>

        <details class="mt-5 group rounded-xl border border-slate-200 p-4 open:bg-slate-50">
          <summary class="cursor-pointer select-none text-sm font-medium text-slate-700">
            Consejos para mejores resultados
          </summary>
          <ul class="mt-3 text-sm text-slate-600 list-disc pl-5 space-y-1">
            <li>Incluye el cuerpo de la noticia completo o la URL oficial.</li>
            <li>Evita solo titulares; dan menos contexto.</li>
            <li>Si la confianza es baja, revisa fuentes oficiales antes de compartir.</li>
          </ul>
        </details>
      </section>

      <!-- Panel de resultados -->
      <section id="card" class="hidden bg-white rounded-2xl shadow-lg ring-1 ring-slate-200 p-5" aria-live="polite">
        <div class="flex items-center justify-between">
          <h2 class="text-lg font-semibold">Resultado</h2>
          <span id="badge" class="text-sm px-2 py-1 rounded"></span>
        </div>

        <p id="score" class="mt-2 text-sm text-slate-700"></p>

        <p id="warn" class="hidden mt-2 text-sm text-amber-900 bg-amber-100 border border-amber-200 rounded-xl px-3 py-2">
          Confianza baja: se recomienda revisión humana.
        </p>

        <div class="mt-3">
          <p id="terms" class="text-sm text-slate-700"></p>
        </div>

        <div class="mt-5 border rounded-xl overflow-hidden">
          <div class="bg-slate-50 px-3 py-2 text-xs font-mono text-slate-500">Respuesta cruda</div>
          <pre id="raw" class="bg-slate-900 text-green-200 p-3 text-sm overflow-auto min-h-[120px]"></pre>
        </div>

        <div class="mt-5 grid grid-cols-2 gap-3">
          <div class="rounded-xl border border-slate-200 p-3">
            <div class="text-xs text-slate-500">Estado</div>
            <div id="pill-status" class="mt-1 inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-700">Listo</div>
          </div>
          <div class="rounded-xl border border-slate-200 p-3">
            <div class="text-xs text-slate-500">Última acción</div>
            <div id="pill-action" class="mt-1 text-xs text-slate-700">—</div>
          </div>
        </div>
      </section>
    </div>

    <footer class="mt-10 text-center text-xs text-slate-500">
      Prototipo académico · Universidad Continental · Huancayo, Junín
    </footer>
  </main>

  <!-- Carga tu lógica principal -->
  <script src="./app.js" defer></script>
</body>
</html>
